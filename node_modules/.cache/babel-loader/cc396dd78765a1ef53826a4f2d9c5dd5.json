{"ast":null,"code":"import _objectSpread from\"/Users/zhangjing/Documents/projects/equipment-management/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/zhangjing/Documents/projects/equipment-management/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/zhangjing/Documents/projects/equipment-management/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhangjing/Documents/projects/equipment-management/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/zhangjing/Documents/projects/equipment-management/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/zhangjing/Documents/projects/equipment-management/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import axios from\"axios\";import\"./equipment-creation.scss\";import store from'../../store/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EquipmentCreation=/*#__PURE__*/function(_Component){_inherits(EquipmentCreation,_Component);var _super=_createSuper(EquipmentCreation);function EquipmentCreation(props){var _this;_classCallCheck(this,EquipmentCreation);_this=_super.call(this,props);_this.handelChange=function(stateName,e){_this.setState(_defineProperty({},stateName,e.target.value));};_this.handelSubmit=function(e){e.preventDefault();var submitData=_objectSpread(_objectSpread({},_this.state),{},{id:'asset:'+new Date().valueOf()});axios.post(\"http://localhost:8000/equipments\",submitData).then(function(){_this.setState({showMessage:true});_this.timer=setTimeout(function(){_this.props.history.push('/list');_this.setState({showMessage:false});},1500);}).catch(function(){console.log(\"error\");});};_this.state={model:\"\",brand:\"\",weight:\"\",manufactureDate:\"2020-06-10\",showMessage:false};_this.timer=null;return _this;}_createClass(EquipmentCreation,[{key:\"componentDidMount\",value:function componentDidMount(){store.dispatch({type:'add'});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.timer);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"equipment-creation\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message\",style:{display:this.state.showMessage?'block':'none'},children:\"Add Success~\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handelSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Model\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-value\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.model,onChange:function onChange(e){return _this2.handelChange(\"model\",e);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Brand\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-value\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.brand,onChange:function onChange(e){return _this2.handelChange(\"brand\",e);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Weight\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-value\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.weight,onChange:function onChange(e){return _this2.handelChange(\"weight\",e);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"ManufactureDate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-value\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:this.state.manufactureDate,onChange:function onChange(e){return _this2.handelChange(\"manufactureDate\",e);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-wrap\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",type:\"submit\",children:\"\\u63D0\\u4EA4\"})})]})]});}}]);return EquipmentCreation;}(Component);export default EquipmentCreation;","map":{"version":3,"sources":["/Users/zhangjing/Documents/projects/equipment-management/src/pages/equipment-creation/equipment-creation.jsx"],"names":["Component","axios","store","EquipmentCreation","props","handelChange","stateName","e","setState","target","value","handelSubmit","preventDefault","submitData","state","id","Date","valueOf","post","then","showMessage","timer","setTimeout","history","push","catch","console","log","model","brand","weight","manufactureDate","dispatch","type","clearTimeout","display"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./equipment-creation.scss\";\nimport store from '../../store/index';\nclass EquipmentCreation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      model: \"\",\n      brand: \"\",\n      weight: \"\",\n      manufactureDate: \"2020-06-10\",\n      showMessage:false\n    };\n    this.timer = null;\n  }\n  componentDidMount() {\n    store.dispatch({type:'add'});\n  }\n  handelChange = (stateName, e) => {\n    this.setState({\n      [stateName]: e.target.value,\n    });\n  };\n  handelSubmit = (e) => {\n    e.preventDefault();\n    const submitData = {\n        ...this.state,\n        id:'asset:'+new Date().valueOf()\n    }\n    axios\n      .post(\"http://localhost:8000/equipments\",submitData)\n      .then(() => {\n        this.setState({\n          showMessage:true\n        })\n        this.timer= setTimeout(()=>{\n          this.props.history.push('/list');\n          this.setState({\n            showMessage:false\n          })\n        },1500)\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n  };\n  componentWillUnmount(){\n    clearTimeout(this.timer);\n  }\n  render() {\n    return (\n      <div id=\"equipment-creation\">\n        <div className=\"message\" style={{display:this.state.showMessage?'block':'none'}}>Add Success~</div>\n        <form onSubmit={this.handelSubmit}>\n          <div className=\"input-wrap\">\n            <label>Model</label>\n            <div className=\"input-value\">\n              <input\n                type=\"text\"\n                value={this.state.model}\n                onChange={(e) => this.handelChange(\"model\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <label>Brand</label>\n            <div className=\"input-value\">\n              <input\n                type=\"text\"\n                value={this.state.brand}\n                onChange={(e) => this.handelChange(\"brand\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <label>Weight</label>\n            <div className=\"input-value\">\n              <input\n                type=\"text\"\n                value={this.state.weight}\n                onChange={(e) => this.handelChange(\"weight\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <label>ManufactureDate</label>\n            <div className=\"input-value\">\n              <input\n                type=\"date\"\n                value={this.state.manufactureDate}\n                onChange={(e) => this.handelChange(\"manufactureDate\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"btn-wrap\">\n            <button className=\"submit-btn\" type=\"submit\">\n              提交\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EquipmentCreation;\n"]},"metadata":{},"sourceType":"module"}