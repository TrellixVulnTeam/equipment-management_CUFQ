{"version":3,"sources":["store/reducer.js","store/index.js","pages/header/header.jsx","pages/equipment-list/equipment-list.jsx","assets/img/equipment.jpeg","pages/equipment-detail/equipment-detail.jsx","pages/equipment-creation/equipment-creation.jsx","pages/page-router/page-router.jsx","App.js","reportWebVitals.js","index.js"],"names":["defaultState","title","changeTitle","state","action","newState","type","store","createStore","reducer","Header","props","changeStore","setState","getState","subscribe","this","id","Component","EquipmentList","getEquipmentList","axios","get","then","res","data","equipmentList","catch","console","log","deleteEquipment","post","currentId","showMessage","dispatch","className","style","display","onClick","map","equipment","model","manufactureDate","to","EquipmentDetail","getDetail","equipmentId","match","params","detail","alt","src","equipmentImg","Object","keys","key","index","EquipmentCreation","handelChange","stateName","e","target","value","handelSubmit","preventDefault","submitData","Date","valueOf","timer","setTimeout","history","push","brand","weight","clearTimeout","onSubmit","onChange","PageRouter","path","exact","render","component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f8794001.chunk.js","sourcesContent":["let defaultState = {\n    title:'Equipment Management'\n}\nconst changeTitle = (state=defaultState,action)=>{\n    let newState = {...defaultState};\n    if(action.type === 'add'){\n        newState.title = 'Add Equipment';\n        return newState;\n    }else if(action.type === 'detail'){\n        newState.title = 'Equipment Detail';\n        return newState;\n    }else if(action.type === 'list'){\n        newState.title = 'Equipment Management';\n        return newState;\n    }\n    return state;\n    \n};\nexport default changeTitle;","import {createStore} from 'redux';\nimport reducer from './reducer';\nconst store = createStore(reducer);\nexport default store;","import { Component } from 'react';\nimport store from '../../store/index';\nimport \"./header.scss\";\nclass Header extends Component {\n    constructor(props) {\n        super(props);\n        this.state = store.getState();\n    }\n    componentDidMount(){\n        store.subscribe(this.changeStore)\n   }\n    changeStore=()=>{\n        this.setState(store.getState());\n    }\n    render() { \n        return <div id=\"header-container\">\n        <header>{this.state.title}</header>\n    </div>\n    }\n}\n \nexport default Header;","import { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./equipment-list.scss\";\nimport { Link } from \"react-router-dom\";\nimport store from '../../store/index';\n\nclass EquipmentList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      equipmentList: [],\n      showMessage:false,\n      currentId:null\n    };\n  }\n  componentDidMount() {\n    this.getEquipmentList();\n    store.dispatch({type:'list'});\n  }\n  getEquipmentList = () => {\n     axios\n      .get(\"http://localhost:8000/equipments\")\n      .then((res) => {\n        const data = res.data;\n        this.setState({\n          equipmentList: data,\n        });\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n  };\n  changeStore=()=>{\n    this.setState(store.getState());\n  }\n  deleteEquipment=()=>{\n    axios\n      .post(\"http://localhost:8000/equipments/\",this.state.currentId)\n      .then(() => {\n        this.setState({\n          showMessage:false\n        })\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n  }\n\n  // setEquipmentId=(currentId)=>{\n  //   this.timer1= setTimeout(()=>{\n  //   this.setState({currentId})\n  // }) };\n\n  render() {\n    return (\n      <div id=\"euqipment-container\">\n        <div className=\"confirm-message\" style={{display:this.state.showMessage?'block':'none'}}>\n          <p>Are you sure to delete the equipemnt ?</p>\n          <div className=\"btn-wrap\">\n            <button className=\"comfirm\" onClick={this.deleteEquipment}>Ok</button>\n            <button className=\"cancel\">Cancel</button>\n          </div>\n        </div>\n        <ul className=\"equipment-list\">\n          {this.state.equipmentList.map((equipment) => {\n            return (\n              <li className=\"equipemnt-item\" key={equipment.id}>\n                <div className=\"equipment-left\">\n                  <div className=\"equipment-model\">{equipment.model}</div>\n                  <span>{equipment.id}</span>\n                </div>\n                <div className=\"equipment-right\">\n                  <div className=\"equipment-date\">\n                    {equipment.manufactureDate}\n                  </div>\n                  <div className=\"action mt20\">\n                    <Link to={'/detail/'+equipment.id}> <i className=\"iconfont detail mr5\">&#xe7a6;</i></Link>\n                    <Link to=\"/add\"> <i className=\"iconfont add mr5\">&#xe601;</i></Link>\n                    <span> <i className=\"iconfont delete\">&#xe6cd;</i></span>\n                  </div>\n                </div>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default EquipmentList;\n","export default __webpack_public_path__ + \"static/media/equipment.05eff769.jpeg\";","import { Component } from \"react\";\nimport axios from \"axios\";\nimport equipmentImg from \"../../assets/img/equipment.jpeg\";\nimport \"./equipment-detail.scss\";\nimport store from '../../store/index';\n\nclass EquipmentDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      detail:{}\n    };\n    this.detail = {};\n  }\n  componentDidMount() {\n    store.dispatch({type:'detail'});\n    this.getDetail();\n  }\n  getDetail = () => {\n    const equipmentId = this.props.match.params.id;\n    axios\n      .get(\"http://localhost:8000/equipments/\" + equipmentId)\n      .then((res) => {\n        this.setState({\n          detail: res.data\n        });\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n  };\n  render() {\n    return (\n      <div id=\"equipment-detail\">\n        <div className=\"detail-img\">\n          <img className=\"logo\" alt=\"equipment\" src={equipmentImg}></img>\n        </div>\n        <div className=\"detail-content\">\n          {Object.keys(this.state.detail).map((key,index) => {\n            return (\n              <div className=\"content-wrap\" key={index}>\n                <div className=\"content-left\">{key}:</div>\n                <div className=\"content-right\">{this.state.detail[key]}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EquipmentDetail;\n","import { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./equipment-creation.scss\";\nimport store from '../../store/index';\nclass EquipmentCreation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      model: \"\",\n      brand: \"\",\n      weight: \"\",\n      manufactureDate: \"2020-06-10\",\n      showMessage:false\n    };\n    this.timer = null;\n  }\n  componentDidMount() {\n    store.dispatch({type:'add'});\n  }\n  handelChange = (stateName, e) => {\n    this.setState({\n      [stateName]: e.target.value,\n    });\n  };\n  handelSubmit = (e) => {\n    e.preventDefault();\n    const submitData = {\n        ...this.state,\n        id:'asset:'+new Date().valueOf()\n    }\n    axios\n      .post(\"http://localhost:8000/equipments\",submitData)\n      .then(() => {\n        this.setState({\n          showMessage:true\n        })\n        this.timer= setTimeout(()=>{\n          this.props.history.push('/list');\n          this.setState({\n            showMessage:false\n          })\n        },1500)\n      })\n      .catch(() => {\n        console.log(\"error\");\n      });\n  };\n  componentWillUnmount(){\n    clearTimeout(this.timer);\n  }\n  render() {\n    return (\n      <div id=\"equipment-creation\">\n        <div className=\"message\" style={{display:this.state.showMessage?'block':'none'}}>Add Success~</div>\n        <form onSubmit={this.handelSubmit}>\n          <div className=\"input-wrap\">\n            <label>Model</label>\n            <div className=\"input-value\">\n              <input\n                type=\"text\"\n                value={this.state.model}\n                onChange={(e) => this.handelChange(\"model\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <label>Brand</label>\n            <div className=\"input-value\">\n              <input\n                type=\"text\"\n                value={this.state.brand}\n                onChange={(e) => this.handelChange(\"brand\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <label>Weight</label>\n            <div className=\"input-value\">\n              <input\n                type=\"text\"\n                value={this.state.weight}\n                onChange={(e) => this.handelChange(\"weight\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <label>ManufactureDate</label>\n            <div className=\"input-value\">\n              <input\n                type=\"date\"\n                value={this.state.manufactureDate}\n                onChange={(e) => this.handelChange(\"manufactureDate\", e)}\n              />\n            </div>\n          </div>\n          <div className=\"btn-wrap\">\n            <button className=\"submit-btn\" type=\"submit\">\n              提交\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EquipmentCreation;\n","import React, { Component } from \"react\";\nimport { Switch, Route, Redirect,BrowserRouter } from \"react-router-dom\";\nimport EquipmentList from \"../equipment-list/equipment-list\";\nimport EquipmentDetail from \"../equipment-detail/equipment-detail\";\nimport EquipmentCreation from \"../equipment-creation/equipment-creation\";\nclass PageRouter extends Component {\n  render() {\n    return (\n    <BrowserRouter>\n      <Switch>\n        <Route\n          path=\"/\"\n          exact\n          render={() => (\n            <Redirect to=\"/list\" />\n          )}\n        />\n        <Route path=\"/list\" component={EquipmentList} />\n        <Route path=\"/add\" component={EquipmentCreation} />\n        <Route path=\"/detail/:id\" component={EquipmentDetail} />\n      </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default PageRouter;\n","import './App.css';\nimport Header from '../src/pages/header/header';\nimport PageRouter from '../src/pages/page-router/page-router';\n\nfunction App() {\n  return (\n    <>\n    <Header/>\n    <PageRouter/>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './style/iconfont.css';\nimport './style/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}