(this["webpackJsonpequipment-management"]=this["webpackJsonpequipment-management"]||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},59:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(30),s=n.n(i),l=(n(37),n(38),n(8)),r=n(9),u=n(11),o=n(10),d=n(31),j=n(12),h={title:"Equipment Management"},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=Object(j.a)({},h);return"add"===t.type?(n.title="Add Equipment",n):"detail"===t.type?(n.title="Equipment Detail",n):"list"===t.type?(n.title="Equipment Management",n):e},m=Object(d.a)(b),p=(n(39),n(0)),O=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).changeStore=function(){a.setState(m.getState())},a.state=m.getState(),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){m.subscribe(this.changeStore)}},{key:"render",value:function(){return Object(p.jsx)("div",{id:"header-container",children:Object(p.jsx)("header",{children:this.state.title})})}}]),n}(a.Component),f=n(16),v=n(2),x=n(13),g=n.n(x),N=(n(59),function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).getEquipmentList=function(){g.a.get("http://localhost:8000/equipments").then((function(e){var t=e.data;a.setState({equipmentList:t})})).catch((function(){console.log("error")}))},a.changeStore=function(){a.setState(m.getState())},a.deleteEquipment=function(){g.a.post("http://localhost:8000/equipments/",a.state.currentId).then((function(){a.setState({showMessage:!1})})).catch((function(){console.log("error")}))},a.state={equipmentList:[],showMessage:!1,currentId:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.getEquipmentList(),m.dispatch({type:"list"})}},{key:"render",value:function(){return Object(p.jsxs)("div",{id:"euqipment-container",children:[Object(p.jsxs)("div",{className:"confirm-message",style:{display:this.state.showMessage?"block":"none"},children:[Object(p.jsx)("p",{children:"Are you sure to delete the equipemnt ?"}),Object(p.jsxs)("div",{className:"btn-wrap",children:[Object(p.jsx)("button",{className:"comfirm",onClick:this.deleteEquipment,children:"Ok"}),Object(p.jsx)("button",{className:"cancel",children:"Cancel"})]})]}),Object(p.jsx)("ul",{className:"equipment-list",children:this.state.equipmentList.map((function(e){return Object(p.jsxs)("li",{className:"equipemnt-item",children:[Object(p.jsxs)("div",{className:"equipment-left",children:[Object(p.jsx)("div",{className:"equipment-model",children:e.model}),Object(p.jsx)("span",{children:e.id})]}),Object(p.jsxs)("div",{className:"equipment-right",children:[Object(p.jsx)("div",{className:"equipment-date",children:e.manufactureDate}),Object(p.jsxs)("div",{className:"action mt20",children:[Object(p.jsxs)(f.b,{to:"/detail/"+e.id,children:[" ",Object(p.jsx)("i",{className:"iconfont detail mr5",children:"\ue7a6"})]}),Object(p.jsxs)(f.b,{to:"/add",children:[" ",Object(p.jsx)("i",{className:"iconfont add mr5",children:"\ue601"})]}),Object(p.jsxs)("span",{children:[" ",Object(p.jsx)("i",{className:"iconfont delete",children:"\ue6cd"})]})]})]})]},e.id)}))})]})}}]),n}(a.Component)),y=n.p+"static/media/equipment.05eff769.jpeg",q=(n(68),function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).getDetail=function(){var e=a.props.match.params.id;g.a.get("http://localhost:8000/equipments/"+e).then((function(e){a.setState({detail:e.data})})).catch((function(){console.log("error")}))},a.state={detail:{}},a.detail={},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){m.dispatch({type:"detail"}),this.getDetail()}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{id:"equipment-detail",children:[Object(p.jsx)("div",{className:"detail-img",children:Object(p.jsx)("img",{className:"logo",alt:"equipment",src:y})}),Object(p.jsx)("div",{className:"detail-content",children:Object.keys(this.state.detail).map((function(t,n){return Object(p.jsxs)("div",{className:"content-wrap",children:[Object(p.jsxs)("div",{className:"content-left",children:[t,":"]}),Object(p.jsx)("div",{className:"content-right",children:e.state.detail[t]})]},n)}))})]})}}]),n}(a.Component)),w=n(17),S=(n(69),function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handelChange=function(e,t){a.setState(Object(w.a)({},e,t.target.value))},a.handelSubmit=function(e){e.preventDefault();var t=Object(j.a)(Object(j.a)({},a.state),{},{id:"asset:"+(new Date).valueOf()});g.a.post("http://localhost:8000/equipments",t).then((function(){a.setState({showMessage:!0}),a.timer=setTimeout((function(){a.props.history.push("/list"),a.setState({showMessage:!1})}),1500)})).catch((function(){console.log("error")}))},a.state={model:"",brand:"",weight:"",manufactureDate:"2020-06-10",showMessage:!1},a.timer=null,a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){m.dispatch({type:"add"})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{id:"equipment-creation",children:[Object(p.jsx)("div",{className:"message",style:{display:this.state.showMessage?"block":"none"},children:"Add Success~"}),Object(p.jsxs)("form",{onSubmit:this.handelSubmit,children:[Object(p.jsxs)("div",{className:"input-wrap",children:[Object(p.jsx)("label",{children:"Model"}),Object(p.jsx)("div",{className:"input-value",children:Object(p.jsx)("input",{type:"text",value:this.state.model,onChange:function(t){return e.handelChange("model",t)}})})]}),Object(p.jsxs)("div",{className:"input-wrap",children:[Object(p.jsx)("label",{children:"Brand"}),Object(p.jsx)("div",{className:"input-value",children:Object(p.jsx)("input",{type:"text",value:this.state.brand,onChange:function(t){return e.handelChange("brand",t)}})})]}),Object(p.jsxs)("div",{className:"input-wrap",children:[Object(p.jsx)("label",{children:"Weight"}),Object(p.jsx)("div",{className:"input-value",children:Object(p.jsx)("input",{type:"text",value:this.state.weight,onChange:function(t){return e.handelChange("weight",t)}})})]}),Object(p.jsxs)("div",{className:"input-wrap",children:[Object(p.jsx)("label",{children:"ManufactureDate"}),Object(p.jsx)("div",{className:"input-value",children:Object(p.jsx)("input",{type:"date",value:this.state.manufactureDate,onChange:function(t){return e.handelChange("manufactureDate",t)}})})]}),Object(p.jsx)("div",{className:"btn-wrap",children:Object(p.jsx)("button",{className:"submit-btn",type:"submit",children:"\u63d0\u4ea4"})})]})]})}}]),n}(a.Component)),C=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(p.jsx)(f.a,{children:Object(p.jsxs)(v.d,{children:[Object(p.jsx)(v.b,{path:"/",exact:!0,render:function(){return Object(p.jsx)(v.a,{to:"/list"})}}),Object(p.jsx)(v.b,{path:"/list",component:N}),Object(p.jsx)(v.b,{path:"/add",component:S}),Object(p.jsx)(v.b,{path:"/detail/:id",component:q})]})})}}]),n}(a.Component);var k=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,{}),Object(p.jsx)(C,{})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};n(70),n(71);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),M()}},[[72,1,2]]]);
//# sourceMappingURL=main.f8794001.chunk.js.map